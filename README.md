# ูฺฉุฑูุณุฑูุณ ุงุญุฑุงุฒ ููุช ุจุง Django ู gRPC

## ูุนุฑู ูพุฑูฺู

ุงู ูพุฑูฺู ุดุงูู ุฏู ุณุฑูุณ ูุฌุฒุง ุงุณุช ฺฉู ุจุง ุงุณุชูุงุฏู ุงุฒ gRPC ุจุง ฺฉุฏฺฏุฑ ุงุฑุชุจุงุท ุจุฑูุฑุงุฑ ูโฺฉููุฏ:

### ๐ ุณุฑูุณ ุงุญุฑุงุฒ ููุช (django_auth)
- ูุณุฆูู ุซุจุชโูุงูุ ูุฑูุฏ ู ุฎุฑูุฌ ฺฉุงุฑุจุฑุงู
- ุฏุงุฑุง ุณุฑูุฑ gRPC ฺฉู ุฑู ูพูุฑุช 50051 ุงุฌุฑุง ูโุดูุฏ
- ุงุฒ ูพุงฺฏุงู ุฏุงุฏู PostgreSQL ุงุณุชูุงุฏู ูโฺฉูุฏ

### ๐ ุณุฑูุณ ุงุตู (django_main)  
- ุฑุงุจุท ฺฉุงุฑุจุฑ ูุจ
- ุฏุฑุฎูุงุณุชโูุง ุงุญุฑุงุฒ ููุช ุฑุง ุงุฒ ุทุฑู gRPC ุจู ุณุฑูุณ auth ุงุฑุณุงู ูโฺฉูุฏ
- ุดุงูู ุตูุญุงุช ุซุจุชโูุงูุ ูุฑูุฏ ู ุฏุงุดุจูุฑุฏ

## ูุญูู ุงุฌุฑุง

### ุฑูุด ุขุณุงู (ุงุณุชูุงุฏู ุงุฒ ูุงู Batch)
```bash
# ููุท ุงู ูุงู ุฑุง ุงุฌุฑุง ฺฉูุฏ
build_services.bat
```

### ุฑูุด ุฏุณุช
```bash
# 1. ุจูุฏ ฺฉุฑุฏู ุณุฑูุณ ุงุญุฑุงุฒ ููุช
cd django_auth
docker-compose build
docker-compose up -d

# 2. ุจูุฏ ฺฉุฑุฏู ุณุฑูุณ ุงุตู
cd ../django_main
docker-compose build
docker-compose up
```

## ูุนูุงุฑ ุณุณุชู

```
ฺฉุงุฑุจุฑ โ django_main (ูุจ ุงูพูฺฉุดู) โ gRPC โ django_auth (ุณุฑูุณ ุงุญุฑุงุฒ ููุช)
```

- **ุงุญุฑุงุฒ ููุช**: ุฏุฑ ุณุฑูุณ `django_auth` ุงูุฌุงู ูโุดูุฏ
- **ุฑุงุจุท ฺฉุงุฑุจุฑ**: ุฏุฑ ุณุฑูุณ `django_main` ูุฑุงุฑ ุฏุงุฑุฏ
- **ุงุฑุชุจุงุท**: ุงุฒ ุทุฑู gRPC ุจุฑูุฑุงุฑ ูโุดูุฏ

## ๐ ููู ุนููุงุช ุณุณุชู

![flow](assets/flow.png)

### ๐ ุชูุถุญ ููู ฺฉุงุฑ:

1. **๐ ูุฑูุฏ ฺฉุงุฑุจุฑ**: ฺฉุงุฑุจุฑ ุงุฒ ุทุฑู ูุฑูุฑฺฏุฑ ุจู ุณุฑูุณ ุงุตู (`django_main`) ูุชุตู ูโุดูุฏ
2. **๐ฏ ุชุดุฎุต ุฏุฑุฎูุงุณุช**: ุณุณุชู ููุน ุฏุฑุฎูุงุณุช (ุซุจุชโูุงูุ ูุฑูุฏุ ุฏุงุดุจูุฑุฏ) ุฑุง ุชุดุฎุต ูโุฏูุฏ
3. **๐ก ุงุฑุณุงู gRPC**: ุฏุฑุฎูุงุณุช ุงุฒ ุทุฑู ฺฉูุงูุช gRPC ุจู ุณุฑูุณ ุงุญุฑุงุฒ ููุช ุงุฑุณุงู ูโุดูุฏ
4. **โ๏ธ ูพุฑุฏุงุฒุด ุฏุฑ Auth**: ุณุฑูุฑ gRPC ุฏุฑุฎูุงุณุช ุฑุง ูพุฑุฏุงุฒุด ู ุจุง ูพุงฺฏุงู ุฏุงุฏู ุงุฑุชุจุงุท ุจุฑูุฑุงุฑ ูโฺฉูุฏ
5. **๐ค ุจุงุฒฺฏุดุช ูพุงุณุฎ**: ูุชุฌู ุงุฒ ุทุฑู gRPC ุจู ุณุฑูุณ ุงุตู ุจุงุฒฺฏุฑุฏุงูุฏู ูโุดูุฏ
6. **๐จ ููุงุด ูุชุฌู**: ูุชุฌู ููุง ุจู ฺฉุงุฑุจุฑ ููุงุด ุฏุงุฏู ูโุดูุฏ

## ูพูุฑุชโูุง

- **django_auth**: 8001 (ูุจ) + 50051 (gRPC)
- **django_main**: 8000 (ูุจ)
- **PostgreSQL**: 5432

## ูุงูโูุง ููู

- `django_auth/grpc/grpc_server.py`: ุณุฑูุฑ gRPC
- `django_main/grpc/grpc_client.py`: ฺฉูุงูุช gRPC
- `django_main/main_app/views.py`: ููุทู ุงุฑุชุจุงุท ุจุง ุณุฑูุณ auth

## ูฺฉุงุช ููู

- ุณุฑูุณ `django_auth` ุจุงุฏ ูุจู ุงุฒ `django_main` ุงุฌุฑุง ุดูุฏ
- ูุฑ ุฏู ุณุฑูุณ ุฏุฑ ุดุจฺฉู `microservice-network` ูุฑุงุฑ ุฏุงุฑูุฏ
- ฺฉูุงูุช gRPC ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุฏุฑ Django views ูุฑุงุฎูุงู ูโุดูุฏ

# future

## in future we will add and change this repo better example

## like rest, grpc, graph and other ways 
